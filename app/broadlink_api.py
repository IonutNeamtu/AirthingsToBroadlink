import time
import broadlink


stored_commands = {
    'master_to_slave': b'&\x00H\x00\x00\x01#\x94\x129\x12\x15\x13\x15\x138\x14\x13\x148\x129\x12\x16\x12\x16\x11:\x129\x13\x14\x138\x14\x15\x12\x16\x129\x12\x15\x129\x138\x138\x13\x15\x148\x13\x15\x11\x16\x129\x12\x16\x12\x15\x13\x15\x138\x14\x14\x12:\x11:\x11\x00\r\x05',
    'slave_to_master': b'&\x00H\x00\x00\x01#\x95\x138\x13\x15\x12\x15\x138\x13\x15\x147\x139\x12\x16\x11\x16\x129\x138\x13\x15\x138\x13\x15\x12\x15\x148\x129\x129\x129\x138\x14\x14\x147\x13\x16\x11\x16\x12\x16\x13\x14\x12\x16\x13\x15\x129\x12\x15\x138\x139\x12\x00\r\x05',
    'extraction': b'&\x00H\x00\x00\x01#\x95\x138\x13\x14\x13\x15\x138\x14\x15\x129\x129\x12\x15\x13\x15\x138\x138\x14\x15\x11:\x11\x16\x12\x16\x129\x13\x15\x12\x15\x138\x147\x14\x15\x129\x13\x14\x13\x15\x138\x138\x14\x14\x12\x15\x148\x13\x15\x129\x129\x13\x00\r\x05',
    'introduction': b'&\x00H\x00\x00\x01"\x95\x129\x13\x15\x14\x13\x147\x14\x14\x148\x138\x13\x15\x11\x16\x138\x138\x13\x15\x148\x12\x16\x12\x15\x129\x129\x13\x15\x138\x139\x12\x16\x11:\x12\x15\x12\x16\x12\x15\x139\x13\x14\x14\x14\x139\x12\x15\x138\x129\x13\x00\r\x05',
    'sleep': b'&\x00H\x00\x00\x01#\x95\x129\x11\x16\x12\x16\x129\x13\x14\x138\x139\x12\x16\x13\x15\x11:\x138\x13\x14\x138\x13\x15\x13\x15\x129\x12:\x129\x138\x138\x14\x13\x13\x15\x139\x12\x16\x11\x16\x13\x15\x12\x16\x12\x15\x138\x138\x14\x14\x139\x12\x00\r\x05',
    'heat_recovery': b'&\x00H\x00\x00\x01"\x95\x12:\x12\x15\x12\x16\x129\x12\x16\x129\x129\x12\x15\x14\x14\x139\x129\x13\x15\x11:\x12\x15\x13\x15\x138\x13\x15\x139\x12\x15\x138\x13\x15\x129\x13\x15\x12\x15\x138\x14\x14\x139\x12\x15\x138\x13\x15\x138\x138\x13\x00\r\x05',
    'fan_speed_1': b'&\x00H\x00\x00\x01"\x95\x147\x13\x16\x12\x15\x129\x13\x15\x129\x138\x13\x14\x13\x15\x147\x139\x13\x15\x11:\x11\x16\x12\x16\x129\x13\x15\x12\x15\x138\x148\x13\x15\x11:\x138\x13\x14\x138\x147\x14\x14\x13\x16\x11:\x11\x16\x13\x15\x129\x13\x00\r\x05',
    'fan_speed_2': b'&\x00H\x00\x00\x01"\x95\x139\x13\x15\x11\x16\x129\x13\x15\x129\x129\x13\x14\x14\x14\x139\x138\x13\x14\x129\x13\x15\x13\x15\x129\x129\x12\x15\x148\x138\x13\x15\x138\x138\x14\x13\x14\x14\x139\x12\x16\x11\x16\x129\x12\x16\x12\x15\x129\x13\x00\r\x05',
    'fan_speed_3': b'&\x00H\x00\x00\x01#\x95\x129\x13\x14\x13\x15\x138\x13\x15\x129\x148\x13\x14\x12\x16\x129\x129\x13\x15\x129\x13\x14\x14\x14\x148\x12\x15\x139\x11:\x129\x12\x15\x147\x139\x13\x15\x129\x13\x14\x12\x16\x12\x16\x129\x12\x15\x14\x14\x138\x13\x00\r\x05',
    'turbo_extraction': b'&\x00H\x00\x00\x01"\x95\x147\x13\x15\x12\x16\x129\x12\x16\x138\x138\x13\x15\x12\x15\x138\x138\x14\x14\x148\x13\x14\x13\x15\x138\x12\x16\x12\x15\x13\x15\x138\x13\x14\x14\x14\x139\x12\x16\x138\x11:\x138\x13\x14\x138\x148\x13\x15\x129\x12\x00\r\x05'}

# Replace these with your Broadlink device details
BROADLINK_IP_LIVING_ROOM = '192.168.0.196'
BROADLINK_IP_OFFICE = '192.168.0.152'
BROADLINK_IP_BEDROOM = '192.168.0.188'

device = broadlink.hello(BROADLINK_IP_LIVING_ROOM)
# for device in broadlink.xdiscover():
#     print(device)  # Example action. Do whatever you want here.

device.auth()
# for key, value in stored_commands.items():
#     print(key)
#     device.enter_learning()
#     input()
#     ir_packet = device.check_data()
#     stored_commands[key] = ir_packet

device.send_data(stored_commands['extraction'])
time.sleep(1)
device.send_data(stored_commands['fan_speed_1'])

print(stored_commands)


